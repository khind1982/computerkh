<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <title>BnF data enrichment</title>
	<link href="http://dsol.private.chadwyck.co.uk/includes/css/font-awesome.css" rel="stylesheet" type="text/css">
	<link href="http://dsol.private.chadwyck.co.uk/includes/css/bootstrap.css" rel="stylesheet" type="text/css">
	<link href="http://dsol.private.chadwyck.co.uk/includes/css/bootstrap.extra.css" rel="stylesheet" type="text/css">
	<!-- custom css location -->
	<link href="./includes/custom.css" rel="stylesheet" type="text/css">
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <!-- link to index page -->
          <a class="navbar-brand" href="#">EEB - BnF - Handover data enriching webapp<!-- Title --></a>
        </div>
        <div id="navbar">
          <ul class="nav navbar-nav">
            <!-- Nav item 1 -->
            <li><a href="#">link 1</a>
            </li>
            <!-- Nav item 2 -->
            <li><a href="#">link 2</a>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <!-- Link to instructions -->
            <li><a href="#">Instructions</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container bs-docs-container">
      <div class="custom-body">
        <div class="row">
          <div class="col-md-3" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm">
              <ul class="nav bs-docs-sidenav">
                <li>
                  <a href="#g_overview">General overview</a>
                </li>
                <li>
                  <a href="#p_overview">Process overview</a>
                </li>
                <li>
                  <a href="#lookup">Lookup files</a>
                  <ul class="nav">
                    <li><a href="#lookup_ark">ark_lookup.txt</a></li>
                    <li><a href="#lookup_shelfmark">lookup_shelfmark.txt</a></li>
                    <li><a href="#lookup_ark_subject">lookup_ark_subject.txt</a></li>
                    <li><a href="#lookup_subject_code">lookup_subject_code.txt</a></li>
                    <li><a href="#lookup_country">lookup_country.txt</a></li>
                    <li><a href="#lookup_language">lookup_language.txt</a></li>
                    <li><a href="#lookup_dates">lookup_dates.txt</a></li>
                    <li><a href="#lookup_pages">lookup_pages.txt</a></li>
                  </ul>
                </li>
                <li>
                  <a href="#process">Processing</a>
                  <ul class="nav">
                    <li><a href="#process_s1">Step 1</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
          <div class="col-md-9">
            <a href="#0" class="cd-top">Top</a>
            <h4 id="g_overview">General overview</h4>
            <p>This webapp serves to add missing data to the BnF data before it get handed over to the software department. When the data has been transformed from the METs XML format into the handover format there is several key bits of data still missing from it. This webapp essentially does two things. Firstly, it checks to make sure that the needed data is accounted for and when all the necessary data has been found it will run the final process that adds the data to the final handover files.</p>
            <br>
            <h4 id="p_overview">Process overview</h4>
            <p>The process involves several steps. The final data processing step draws in data from various lookup tables. Before this process can run the lookup tables need to be prepared.</p>
            <p>The following lookup files can be located here: /dc/eurobo/corrections/bnf_enrichment_lookups</p>
            <ul>
              <li><a href="#lookup_ark">ark_lookup.txt</a></li>
              <li><a href="#lookup_shelfmark">lookup_shelfmark.txt</a></li>
              <li><a href="#lookup_subject_code">lookup_subject_code.txt</a></li>
              <li><a href="#lookup_country">lookup_country.txt</a></li>
              <li><a href="#lookup_language">lookup_language.txt</a></li>
              <li><a href="#lookup_dates">lookup_dates.txt</a></li>
              <li><a href="#lookup_pages">lookup_pages.txt</a></li>
            </ul>
            <br>
            <h4 id="lookup">Lookup files</h4>
            <h4 id="lookup_ark">ark_lookup.txt</h4>
            <p>The ark lookup containing the PQID listed against the ark number and looks like this:.</p>
            <div class="well well-sm">
            fra-bnf-rlr-00006178-001|ark:/12148/cb303462670<br>
            fra-bnf-rlr-00006454-001|ark:/12148/cb304757479<br>
            fra-bnf-rlr-00003941-002|ark:/12148/cb35285056w<br>
            fra-bnf-rlr-00008466-001|ark:/12148/cb314434016<br>
            fra-bnf-rlr-00003941-001|ark:/12148/cb35285055j<br>
            ...</div>
            <ul>
              <li>This lookup is created by looking at <b>all</b> the METs XML files in /dc/paris-coll{x}/Incoming and extracting the ark number from these files.</li>
              <li>The ark number is the internal id that the BnF uses to identify its records.</li>
              <li>This lookup is used later on in the process to request the language, pulisher, city of publication and format details from the BnFs OAI.</li>
            </ul>
            <br>
            <h4 id="lookup_shelfmark">lookup_shelfmark.txt</h4>
            <p>The shelfmark lookup contains the ark number against the shelfmark and looks like this:</p>
            <div class="well well-sm">
            ark:/12148/cb30382685w|D-33245<br>
            ark:/12148/cb338117325|F-25918<br>
            ark:/12148/cb309332940|RES P-YE-224<br>
            ark:/12148/cb35284823w|RES P-D-55<br>
            ark:/12148/cb30635257r|C-1957<br>
            ...</div>
            <ul>
              <li>This lookup is created by taking the pqid from each handover file and then matching it to an ark number in the ark_lookup.txt file. I then uses the ark number to extract the shelfmark from the relevant record in the BTA.</li>
              <li>It is possible that the BTA does not contain the shelfmark. In this case the pqids which are missing shelfmarks will be displayed and the editor will have to locate these and add the missing shelfmarks to the lookup manually.</li>
            </ul>
            <br>
            <h4 id="lookup_ark_subject">lookup_ark_subject.txt</h4>
            <p>The shelfmark lookup contains the ark number against the subject code and looks like this:</p>
            <div class="well well-sm">
            ark:/12148/cb30382685w|D<br>
            ark:/12148/cb338117325|F<br>
            ark:/12148/cb309332940|YE<br>
            ark:/12148/cb35284823w|D<br>
            ark:/12148/cb30635257r|C<br>
            ...</div>
            <ul>
              <li>This lookup is a copy of the shelfmark lookup with the subject codes filtered out of the shelfmarks.</li>
            </ul>
            <br>
            <h4 id="lookup_subject_code">lookup_subject_code.txt</h4>
            <p>The shelfmark lookup contains the ark number against the subject code and looks like this:</p>
            <div class="well well-sm">
            A|Religion, Christianity, Scripture<br>
            B|Religion, Christianity, Liturgy and ritual<br>
            C|Religion, Christianity, Church Fathers<br>
            D|Religion, Christianity, Catholic Church, Theology<br>
            D2|Religion, Christianity, Protestantism, Theology<br>
            ...</div>
            <ul>
              <li>This version is based on the original lookup that was provided by the BnF: /dc/eurobo/corrections/bnf_enrichment_lookups/lookup_subject_code_original.txt</li>
            </ul>
            <br>
            <h4 id="lookup_country">lookup_country.txt</h4>
            <p>The shelfmark lookup contains the pqid against the language and looks like this:</p>
            <div class="well well-sm">
            fra-bnf-rlr-00002468-001|France<br>
            fra-bnf-rlr-00002469-001|France<br>
            fra-bnf-rlr-00002611-001|Netherlands<br>
            fra-bnf-rlr-00002469-003|Not known<br>
            fra-bnf-rlr-00002470-001|France<br>
            ...</div>
            <ul>
              <li>Created by using the spreadsheets</li>
            </ul>
            <br>
            <h4 id="lookup_language">lookup_language.txt</h4>
            <p>The shelfmark lookup contains language code against its corresponding language and looks like this:</p>
            <div class="well well-sm">
            arm|Armenian<br>
            baq|Basque<br>
            bre|Breton<br>
            cat|Catalan<br>
            cze|Czech<br>
            ...</div>
            <ul>
              <li>This lookup is used to lookup the language in the final process</li>
              <li>This lookup is based on the <a href="http://www.loc.gov/marc/languages/language_code.html" target="_blank">Language codes</a> as set out by the Library of Congress</li>
            </ul>
            <br>
            <h4 id="lookup_dates">lookup_dates.txt</h4>
            <p>The dates lookup contains ark number against its date and looks like this:</p>
            <div class="well well-sm">
            ark:/12148/cb307140671|1597<br>
            ark:/12148/cb312888417|1617<br>
            ark:/12148/cb30535754x|1555<br>
            ark:/12148/cb31180199h|(s. d.)<br>
            ark:/12148/cb30250645c|1693<br>
            ...</div>
            <ul>
              <li>This lookup is used to lookup the date in the final process</li>
            </ul>
            <br>
            <h4 id="process">Process</h4>
            <h4 id="process_s1">Step 1</h4>
            <p>The first thing to do is to take care of the date, country and pages lookup.</p>
          </div>
        </div>
      </div>
    </div>
    <script src="http://dsol.private.chadwyck.co.uk/includes/js/jquery.js"></script>
    <script src="http://dsol.private.chadwyck.co.uk/includes/js/bootstrap.js"></script>
    <script src="http://dsol.private.chadwyck.co.uk/includes/js/bootstrap.extra.js"></script>
    <script src="./includes/custom.js"></script>
  </body>

</html>
